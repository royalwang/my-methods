<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>闭包</title>
</head>

<body>
    <script type="text/javascript">
    var newUL = document.createElement("ul");
    //循环数组，创建节点
    for (var i = 0; i < 4; i++) {
        var newLi = document.createElement("li");
        newLi.style.border = '1px solid';
        newLi.style.cursor = 'pointer';
        newLi.innerHTML = i;
        newUL.append(newLi);
    };
    document.body.appendChild(newUL);

    var nodes = document.getElementsByTagName("li");
    for (i = 0; i < nodes.length; i += 1) {
        nodes[i].onclick = (function(i) {
        	//使用闭包将i存入
            return function() {
                console.log(i);
            } //不用闭包的话，值每次都是4
        })(i);
    }
    </script>
</body>

</html>