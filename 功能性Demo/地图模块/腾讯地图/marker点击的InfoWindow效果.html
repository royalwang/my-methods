<!DOCTYPE html>
<html>

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title>marker点击效果---InfoWindow</title>
    <style type="text/css">
    * {
        margin: 0px;
        padding: 0px;
    }

    body,
    button,
    input,
    select,
    textarea {
        font: 12px/16px Verdana, Helvetica, Arial, sans-serif;
    }

    p {
        width: 603px;
        padding-top: 3px;
        overflow: hidden;
    }

    #container {
        min-width: 600px;
        min-height: 767px;
    }
    </style>
    <script charset="utf-8" src="http://map.qq.com/api/js?v=2.exp"></script>
    <script>
    function init() {
        var center = new qq.maps.LatLng(39.982163, 116.306070);
        var map = new qq.maps.Map(document.getElementById("container"), {
            center: center,
            zoom: 16
        });

        /**
         * [infoWin description]
         * @type {qq}
         */
        var infoWin = new qq.maps.InfoWindow({
            map: map
        });
        var data = [
            [39.959228, 116.367874],
            [39.984486, 116.427612],
            [39.988169, 116.279984],
            [39.847558, 116.402893],
            [39.941857, 116.383667],
            [40.022882, 116.551208],
            [39.819085, 116.581421],
            [39.924482, 116.205826],
            [39.757880, 116.162567],
            [39.631606, 116.325989],
            [39.797986, 116.415253],
            [40.117990, 116.416626],
            [40.271668, 116.638412],
            [40.143190, 116.236038],
            [39.928168, 116.515503],
            [39.902362, 116.389160],
            [39.935539, 116.377487]
        ];
        var LatLng = qq.maps.LatLng;

        for (var i = 0; i < data.length; i++) {
            (function(n) {
                var marker = new qq.maps.Marker({
                    position: new LatLng(data[n][0], data[n][1]),
                    map: map,
                    icon: new qq.maps.MarkerImage(
                        "../icon9.png"),
                });
                qq.maps.event.addListener(marker, 'click', function() {
                    infoWin.open();
                    infoWin.setContent('<div style="text-align:center;white-space:' +
                        'nowrap;margin:10px;">这是第 ' +
                        n + ' 个标注</div>');
                    infoWin.setPosition(new LatLng(data[n][0], data[n][1]));
                });
            })(i);
        }
        //创建一个Marker
        // var marker = new qq.maps.Marker({
        //     //设置Marker的位置坐标
        //     position: center,
        //     //设置Marker被添加到Map上时的动画效果为落下
        //     animation: qq.maps.MarkerAnimation.DOWN,
        //     //设置Marker被添加到Map上时的动画效果为反复弹跳
        //     // animation:qq.maps.MarkerAnimation.BOUNCE,
        //     //设置Marker被添加到Map上时的动画效果为从天而降
        //     //animation:qq.maps.MarkerAnimation.DROP
        //     //设置Marker被添加到Map上时的动画效果为升起
        //     //animation:qq.maps.MarkerAnimation.UP
        //     //设置显示Marker的地图
        //     map: map,
        //     //设置Marker可拖动
        //     draggable: true,
        //     //自定义Marker图标为大头针样式
        //     icon: new qq.maps.MarkerImage(
        //         "../icon9.png"),
        //     //自定义Marker图标的阴影
        //     shadow: new qq.maps.MarkerImage(
        //         "../icon8.png"),
        //     //设置Marker标题，鼠标划过Marker时显示
        //     title: '测试',
        //     //设置Marker的可见性，为true时可见,false时不可见
        //     visible: true,
        // });

    }
    window.onload = init;
    </script>
</head>

<body>
    <div id="container"></div>
</body>

</html>